import{G as N,l as h,H as R,I as m,J as x,K as D,M as F,O as L,Q as E,R as O,T as A,U as Y,V as q,W as C,X as H,Y as M,Z as U,_ as Z,$ as B,a0 as G,y as J,S as K}from"./DzBT8ttv.js";function Q(e,f,c=!1){h&&R();var i=e,s=null,a=null,r=q,S=c?m:0,d=!1;const b=(l,t=!0)=>{d=!0,v(t,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?s:a,t=r?a:s;l&&H(l),t&&M(t,()=>{r?a=null:s=null})}const v=(l,t)=>{if(r===(r=l))return;let T=!1;if(h){const g=x(i)===D;!!r===g&&(i=F(),L(i),E(!1),T=!0)}var p=C(),u=i;if(p&&(n=document.createDocumentFragment(),n.append(u=O())),r?s??(s=t&&A(()=>t(u))):a??(a=t&&A(()=>t(u))),p){var _=Y,k=r?s:a,y=r?a:s;k&&_.skipped_effects.delete(k),y&&_.skipped_effects.add(y),_.add_callback(o)}else o();T&&E(!0)};N(()=>{d=!1,f(b),d||v(null,null)},S),h&&(i=U)}function I(e,f){return e===f||(e==null?void 0:e[K])===f}function V(e={},f,c,i){return Z(()=>{var s,a;return B(()=>{s=a,a=[],J(()=>{e!==c(...a)&&(f(e,...a),s&&I(c(...s),e)&&f(null,...s))})}),()=>{G(()=>{a&&I(c(...a),e)&&f(null,...a)})}}),e}export{V as b,Q as i};
